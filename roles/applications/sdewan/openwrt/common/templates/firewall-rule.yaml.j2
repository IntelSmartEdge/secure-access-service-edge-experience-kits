# INTEL CONFIDENTIAL
#
# Copyright 2021-2021 Intel Corporation.
#
# This software and the related documents are Intel copyrighted materials, and your use of
# them is governed by the express license under which they were provided to you ("License").
# Unless the License provides otherwise, you may not use, modify, copy, publish, distribute,
# disclose or transmit this software or the related documents without Intel's prior written permission.
#
# This software and the related documents are provided as is, with no express or implied warranties,
# other than those that are expressly stated in the License.

{%- for rule in item.rules %}
---
apiVersion: batch.sdewan.akraino.org/v1alpha1
kind: NetworkFirewallRule
metadata:
  name: {{ rule.name }}
  namespace: {{ rule.namespace}}
  labels:
    sdewanPurpose: {{ rule.sdewanPurpose}}
spec:
  src: {{ rule.src }}
  src_ip: {{ rule.src_ip }}
  src_port: {{ rule.src_port }}
  proto: {{ rule.proto }}
  dest: {{ rule.dest }}
  dest_ip: {{ rule.dest_ip }}
  dest_port: {{ rule.dest_port }}
  target: {{ rule.target }}
{% endfor -%}
